<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>日语声调学习</title>
    <link rel="stylesheet" href="style.css">
</head>
<body data-interaction-hint="show">

    <div id="main-menu" class="view active">
        <h1>日语入门学习</h1>
        <button id="start-learning-btn">模块一：声调辨认</button>
        
        <div id="word-list-display">
            <span id="word-list-names"></span>
            <button id="edit-word-lists-btn" class="text-btn">编辑</button>
        </div>
    </div>

    <div id="learning-module" class="view">
        <header class="app-header">
            <div class="header-left">
                <button id="back-to-main-menu-btn" class="icon-btn" aria-label="返回主菜单">↩️</button>
                <button id="settings-btn" class="icon-btn" aria-label="打开设置">⚙️</button>
            </div>
            <div class="progress-indicator">
                <span id="current-word-index">1</span> / <span id="total-word-count"></span>
            </div>
            <button id="drawer-btn" class="icon-btn" aria-label="打开单词列表">☰</button>
        </header>

        <main class="content-area">
            <div id="word-display-container"></div>
            <div class="audio-controls">
                <button id="play-audio-btn" aria-label="播放读音">🔊</button>
                <audio id="audio-player"></audio>
                <span class="keyboard-hint hint-nav">(R)</span>
            </div>
            <div id="word-info-container"></div>
            <div id="pitch-explanation" class="explanation-text"></div>
            <div id="pitch-options-container"></div>
        </main>

        <footer class="navigation-controls">
            <button id="prev-button">◀️ 上一个</button>
            <button id="next-button">下一个 ▶️</button>
            <!-- 核心修复：更新快捷键提示 -->
            <span class="keyboard-hint hint-nav">(◀ / ▶ Enter)</span>
        </footer>
    </div>

    <!-- 单词列表抽屉 -->
    <aside id="drawer" class="slide-panel">
        <div class="panel-header">
            <h3>单词列表</h3>
            <button id="close-drawer-btn" class="icon-btn" aria-label="关闭单词列表">✖</button>
        </div>
        <div class="panel-content">
            <ul id="word-list"></ul>
        </div>
    </aside>

    <!-- 设置面板 -->
    <aside id="settings-modal" class="slide-panel">
        <div class="panel-header">
            <h3>设置</h3>
            <button id="close-settings-btn" class="icon-btn" aria-label="关闭设置">✖</button>
        </div>
        <div class="settings-content panel-content">
             <div class="setting-item checkbox-item">
                <input type="checkbox" id="theme-toggle">
                <label for="theme-toggle">深色模式</label>
            </div>
            <div class="setting-item">
                <label for="interaction-hint-select">交互提示:</label>
                <select id="interaction-hint-select">
                    <option value="show">显示所有</option>
                    <option value="partial">隐藏部分</option>
                    <option value="hide">隐藏所有</option>
                </select>
            </div>
            <div class="setting-item">
                <label for="sort-by-select">排序方式:</label>
                <select id="sort-by-select">
                    <option value="default">默认顺序</option>
                    <option value="length">单词长度</option>
                </select>
            </div>
            <div class="setting-item">
                <label for="order-select">顺序:</label>
                <select id="order-select">
                    <option value="asc">升序</option>
                    <option value="desc">降序</option>
                    <option value="random">乱序</option>
                </select>
            </div>
            <div class="setting-item">
                <label for="key-shortcut-select">键盘快捷键:</label>
                <select id="key-shortcut-select">
                    <option value="qwerty">键盘顺序 (QWERTY)</option>
                    <option value="abcdef">字母表顺序 (ABCDEF)</option>
                    <option value="numeric">数字 (12345)</option>
                </select>
            </div>
            <div class="setting-item checkbox-item">
                <input type="checkbox" id="show-info-toggle">
                <label for="show-info-toggle">显示单词信息</label>
            </div>
            <div class="setting-item checkbox-item">
                <input type="checkbox" id="autoplay-toggle">
                <label for="autoplay-toggle">自动播放读音</label>
            </div>
             <div class="setting-item checkbox-item">
                <input type="checkbox" id="study-mode-toggle">
                <label for="study-mode-toggle">学习模式 (直接显示答案)</label>
            </div>
            <div class="setting-item">
                <label for="jump-to-input">跳转到序号:</label>
                <div class="jump-control">
                    <input type="number" id="jump-to-input" min="1">
                    <button id="jump-to-btn">跳转</button>
                </div>
            </div>
        </div>
    </aside>

    <!-- 单词表选择面板 -->
    <aside id="word-list-selection-panel" class="slide-panel">
        <div class="panel-header">
            <h3>选择单词表</h3>
            <button id="close-word-list-selection-btn" class="icon-btn" aria-label="确认并关闭">✔</button>
        </div>
        <div class="panel-content">
            <ul id="word-list-choices"></ul>
        </div>
    </aside>
    
    <div id="overlay"></div>

    <script src="data.js"></script>
    <script src="app.js"></script>
</body>
</html>